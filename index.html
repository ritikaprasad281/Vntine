<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For You ‚ù§Ô∏è</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:black;
  color:white;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;
  overflow:hidden;
}

.card{
  max-width:500px;
  position:relative;
}

.hidden{ display:none; }

button{
  padding:12px 25px;
  border:none;
  border-radius:30px;
  font-size:18px;
  cursor:pointer;
  margin:10px;
}

#yesBtn{ background:#ff4d6d; color:white; }
#noBtn{ background:#ddd; position:absolute; }

.envelope{
  font-size:70px;
  cursor:pointer;
}

.letter{
  background:#fff8dc;
  color:black;
  padding:25px;
  border-radius:10px;
  font-family:"Comic Sans MS", cursive;
  animation:fadeIn 1s ease-in-out;
}

.rose{
  position:fixed;
  top:-50px;
  font-size:24px;
  animation:fall 5s linear infinite;
}

@keyframes fall{
  to{
    transform:translateY(110vh) rotate(360deg);
    opacity:0;
  }
}

@keyframes fadeIn{
  from{ opacity:0; transform:scale(0.9);}
  to{ opacity:1; transform:scale(1);}
}
</style>
</head>

<body>

<div class="card">

<h2 id="storyText"></h2>

<div id="envelopeScreen" class="hidden">
  <p>You have a letter üíå</p>
  <div class="envelope" onclick="openLetter()">üíå</div>
  <p>Click to open</p>
</div>

<div id="letterScreen" class="hidden">
  <div class="letter">
    <p>My love,</p>
    <p>
    Every moment with you feels special.  
    From waiting, missing, and loving‚Ä¶  
    to every smile we‚Äôve shared.
    </p>
    <p>
    There‚Äôs something I want to ask you‚Ä¶
    </p>
  </div>
</div>

<div id="proposalScreen" class="hidden">
  <h2>Will you be my Valentine? ‚ù§Ô∏è</h2>
  <button id="yesBtn">Yes ‚ù§Ô∏è</button>
  <button id="noBtn">No üôÉ</button>
</div>

<div id="finalScreen" class="hidden">
  <h1>I love youuu ‚ù§Ô∏è</h1>
  <p>Always and forever</p>
</div>

</div>

<audio id="music" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_6c5f2b7f66.mp3?filename=romantic-piano-110397.mp3" type="audio/mp3">
</audio>

<script>
const storyLines = [
"A boy went on the Hampta Trek...",
"Far away in the mountains...",
"While a girl waited for him at home...",
"Missing him every day...",
"And on 15 August 2024...",
"He finally proposed ‚ù§Ô∏è"
];

const storyText = document.getElementById("storyText");
const envelopeScreen = document.getElementById("envelopeScreen");
const letterScreen = document.getElementById("letterScreen");
const proposalScreen = document.getElementById("proposalScreen");
const finalScreen = document.getElementById("finalScreen");
const music = document.getElementById("music");
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");

let lineIndex = 0;
let charIndex = 0;

function typeWriter(){
  if(lineIndex < storyLines.length){
    if(charIndex < storyLines[lineIndex].length){
      storyText.innerHTML += storyLines[lineIndex].charAt(charIndex);
      charIndex++;
      setTimeout(typeWriter, 40);
    } else {
      storyText.innerHTML += "<br><br>";
      lineIndex++;
      charIndex = 0;
      setTimeout(typeWriter, 900);
    }
  } else {
    setTimeout(()=>{
      storyText.classList.add("hidden");
      envelopeScreen.classList.remove("hidden");
    },1000);
  }
}

typeWriter();

function openLetter(){
  envelopeScreen.classList.add("hidden");
  letterScreen.classList.remove("hidden");

  music.volume = 0.3;
  music.play().catch(()=>{});

  setTimeout(()=>{
    letterScreen.classList.add("hidden");
    proposalScreen.classList.remove("hidden");

    noBtn.style.top="120px";
    noBtn.style.left="200px";
  },5000);
}

noBtn.addEventListener("mouseenter", ()=>{
  const x=Math.random()*250;
  const y=Math.random()*200;
  noBtn.style.left=x+"px";
  noBtn.style.top=y+"px";
});

yesBtn.addEventListener("click", ()=>{
  proposalScreen.classList.add("hidden");
  finalScreen.classList.remove("hidden");
  startRoses();
});

function startRoses(){
  setInterval(()=>{
    const rose=document.createElement("div");
    rose.className="rose";
    rose.innerText="üåπ";
    rose.style.left=Math.random()*100+"vw";
    rose.style.fontSize=(Math.random()*20+20)+"px";
    document.body.appendChild(rose);

    setTimeout(()=>rose.remove(),5000);
  },300);
}
</script>

</body>
</html>
